---
title: Configuration
description: Environment variables and service configuration reference
---

Vortex is composed of three application services (API, app, worker) and three infrastructure dependencies (PostgreSQL, Valkey, Iggy). Each service is configured via environment variables.

## Infrastructure

| Service | Default port | Purpose |
|---|---|---|
| **PostgreSQL** | 5432 | Primary data store (workflows, runs, credentials, routing rules) |
| **Valkey** | 6379 | Distributed cron locking and caching (Redis-compatible) |
| **Iggy** | 8090 (TCP), 8080 (HTTP) | Event streaming (OmniEvent bus) |

## API (`vortex-api`)

The API handles GraphQL/REST requests, cron scheduling, event routing, and workflow dispatch.

| Variable | Required | Default | Description |
|---|---|---|---|
| `DATABASE_URL` | Yes | — | PostgreSQL connection string |
| `AUTH_SECRET` | Yes | — | Better Auth session signing secret |
| `AUTH_BASE_URL` | Yes | — | OIDC identity provider URL |
| `CORS_ALLOWED_ORIGINS` | Yes | — | Comma-separated allowed origins |
| `ENCRYPTION_KEY` | Yes | — | Base64-encoded 32-byte key for encrypting stored integration credentials |
| `HATCHET_CLIENT_TOKEN` | Yes | — | Token for the Hatchet workflow engine |
| `INTERNAL_API_SECRET` | No | — | Shared secret for internal service-to-service calls |
| `CACHE_URL` | No | — | Valkey/Redis URL for distributed locking (required for multi-instance) |
| `EVENTS_URL` | No | — | Iggy TCP connection string |
| `EVENTS_URL` | No | — | Iggy TCP connection string |
| `WORKER_URL` | No | — | Worker service URL for health forwarding |
| `VORTEX_PUBLIC_URL` | No | — | Public-facing Vortex URL (used for OAuth callbacks, function invoke URLs) |
| `BILLING_BASE_URL` | No | — | Aether billing service URL |
| `BILLING_WEBHOOK_SECRET` | No | — | Aether billing webhook HMAC secret |
| `IDP_WEBHOOK_SECRET` | No | — | Gatekeeper IDP webhook HMAC secret |
| `AUTHZ_ENABLED` | No | — | Enable AuthZ (Warden) integration |
| `AUTHZ_API_URL` | No | — | Warden AuthZ API URL |
| `STRIPE_API_KEY` | No | — | Stripe secret key |
| `STRIPE_WEBHOOK_SECRET` | No | — | Stripe webhook signing secret |
| `GRAPHQL_MAX_COMPLEXITY_COST` | No | `5000` | Maximum GraphQL query cost |
| `PROTECT_ROUTES` | No | `true` | Enable auth middleware on API routes |
| `AUTH_DEBUG` | No | — | Enable Better Auth debug logging |

### Observability

| Variable | Required | Default | Description |
|---|---|---|---|
| `OTEL_EXPORTER_OTLP_ENDPOINT` | No | — | OpenTelemetry collector endpoint |
| `OTEL_EXPORTER_OTLP_HEADERS` | No | — | OTLP headers (e.g., authorization) |
| `OTEL_SERVICE_NAME` | No | `vortex-api` | Service name in traces |

## App (`vortex-app`)

The app is the React dashboard with visual workflow editor, user management, and real-time subscriptions.

| Variable | Required | Default | Description |
|---|---|---|---|
| `AUTH_SECRET` | Yes | — | Better Auth session secret (must match API) |
| `VITE_BASE_URL` | Yes | — | Public app URL (e.g., `https://vortex.omni.dev`) |
| `VITE_API_BASE_URL` | Yes | — | Vortex API base URL |
| `VITE_AUTH_BASE_URL` | Yes | — | OIDC identity provider URL |
| `VITE_BILLING_BASE_URL` | No | — | Aether billing API URL |
| `VITE_CONSOLE_URL` | No | — | Omni console URL |
| `AUTH_CLIENT_ID` | No | — | OIDC client ID |
| `AUTH_CLIENT_SECRET` | No | — | OIDC client secret |
| `RESEND_API_KEY` | No | — | Resend API key for transactional email |
| `STRIPE_API_KEY` | No | — | Stripe secret key for billing UI |
| `HATCHET_CLIENT_TOKEN` | No | — | Hatchet token (for workflow status) |
| `HATCHET_CLIENT_TLS_STRATEGY` | No | — | TLS mode for Hatchet connection |
| `VITE_FLAGS_CLIENT_KEY` | No | — | Unleash feature flag client key |
| `VITE_FLAGS_API_HOST` | No | — | Unleash API host URL |
| `SELF_HOSTED` | No | — | Set to `true` when self-hosting (disables billing, cloud features) |

### OAuth providers

All OAuth providers are optional. Configure any combination:

| Variable | Description |
|---|---|
| `GOOGLE_CLIENT_ID`, `GOOGLE_CLIENT_SECRET` | Google OAuth |
| `GITHUB_CLIENT_ID`, `GITHUB_CLIENT_SECRET` | GitHub OAuth |
| `OIDC_CLIENT_ID`, `OIDC_CLIENT_SECRET`, `OIDC_ISSUER` | Generic OIDC |

## Worker (`vortex-worker`)

The worker executes workflow DSL definitions, manages trigger adapters, and runs integration connectors.

| Variable | Required | Default | Description |
|---|---|---|---|
| `DATABASE_URL` | Yes | — | PostgreSQL connection string |
| `HATCHET_CLIENT_TOKEN` | Yes | — | Hatchet workflow engine token |
| `CACHE_URL` | No | — | Valkey/Redis URL |
| `EVENTS_URL` | No | — | Iggy TCP connection string |
| `IGGY_USERNAME` | No | — | Iggy authentication username |
| `IGGY_PASSWORD` | No | — | Iggy authentication password |
| `HATCHET_CLIENT_TLS_STRATEGY` | No | `none` | TLS mode for Hatchet connection |
| `ENCRYPTION_KEY` | No | — | Base64-encoded 32-byte key for credential decryption |
| `INTERNAL_API_SECRET` | No | — | Shared secret for internal service-to-service calls |
| `TEMPORAL_ADDRESS` | No | — | Temporal server address (when using Temporal backend) |
| `VORTEX_TRIGGER_PLUGINS_DIR` | No | — | Directory for external trigger adapter plugins |
| `HEALTH_PORT` | No | `8080` | Port for the health check HTTP server |
| `LOG_LEVEL` | No | — | Log level override |

## Iggy (event streaming)

| Variable | Required | Default | Description |
|---|---|---|---|
| `IGGY_USERNAME` | Yes | — | Iggy admin username |
| `IGGY_PASSWORD` | Yes | — | Iggy admin password |

## Generating secrets

```bash
# AUTH_SECRET — random 32-character string
openssl rand -hex 16

# ENCRYPTION_KEY — base64-encoded 32 bytes
openssl rand -base64 32

# INTERNAL_API_SECRET — random string
openssl rand -hex 16
```

## Health checks

| Service | Endpoint | Port | Purpose |
|---|---|---|---|
| API | `/health` | 4000 | Liveness — returns `{ status, timestamp, service }` |
| API | `/ready` | 4000 | Readiness — verifies DB and cache connectivity |
| App | `/api/_health` | 3000 | Liveness |
| Worker | `/health` | 8080 | Liveness |

## Rate limiting

The API enforces a default rate limit of **100 requests per minute per IP**. GraphQL queries are cost-limited to a configurable maximum (`GRAPHQL_MAX_COMPLEXITY_COST`, default 5000).
